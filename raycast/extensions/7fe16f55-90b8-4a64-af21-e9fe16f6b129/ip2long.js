"use strict";var F=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var G=Object.getOwnPropertyNames;var J=Object.prototype.hasOwnProperty;var K=(e,t)=>{for(var n in t)F(e,n,{get:t[n],enumerable:!0})},Q=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of G(t))!J.call(e,i)&&i!==n&&F(e,i,{get:()=>t[i],enumerable:!(r=Y(t,i))||r.enumerable});return e};var U=e=>Q(F({},"__esModule",{value:!0}),e);var ve={};K(ve,{default:()=>z});module.exports=U(ve);var Z=Object.defineProperty,E=(e,t)=>{for(var n in t)Z(e,n,{get:t[n],enumerable:!0})},N=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},g=(e,t,n)=>(N(e,t,"read from private field"),n?n.call(e):t.get(e)),j=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},M=(e,t,n,r)=>(N(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_={};E(_,{contains:()=>ie,ip2long:()=>ee,ipVersion:()=>oe,isCIDR:()=>ne,isConflict:()=>re,isValidIP:()=>B,long2ip:()=>te});function ee(e){return B(e)?l.ip2long(e)||p.ip2long(e):!1}function te(e){return typeof e!="number"&&typeof e!="bigint"?!1:l.long2ip(e)||p.long2ip(e)}function ne(e){return typeof e!="string"?!1:l.isCIDR(e)||p.isCIDR(e)}function B(e){return typeof e!="string"?!1:l.isValidIP(e)||p.isValidIP(e)}function re(e){return!Array.isArray(e)||e.length===0?!1:l.isConflict(e)||p.isConflict(e)}function ie(e,t){return typeof e!="string"||typeof t!="string"?!1:l.contains(e,t)||p.contains(e,t)}function oe(e){return typeof e!="string"?"invalid":l.isValidIP(e)?"IPv4":p.isValidIP(e)?"IPv6":"invalid"}var l={};E(l,{contains:()=>V,ip2long:()=>a,ipRange:()=>w,isCIDR:()=>ae,isConflict:()=>ue,isEqual:()=>fe,isPrivate:()=>le,isSameSubnet:()=>de,isValidIP:()=>c,isValidMask:()=>v,long2ip:()=>d,parseCIDR:()=>A,parseSubnet:()=>pe,toBinHex:()=>ce,toIPv6Format:()=>he,toInverseMask:()=>Ie,toMaskLength:()=>L,toSubnetMask:()=>X});function a(e){if(!c(e))return!1;let t=0,n=e.split(".");for(let r of n)t=(t<<8)+ +r;return t>>>0}function d(e){if(typeof e!="number"||isNaN(e))return!1;if(e>=0&&e<=4294967295){let t=[];for(let n=3;n>=0;n--)t.push(e>>>n*8&255);return t.join(".")}else return!1}var h,I,se=class T{constructor(t,n){if(j(this,h,void 0),j(this,I,void 0),+t<0||+t>4294967295||+n<0||+n>4294967295)throw new Error("Invalid start or end IPv4 address");M(this,h,t),M(this,I,n)}static fromLong(t,n){if(typeof t!="number"||typeof n!="number")throw new Error("Invalid start or end IPv4 address");if(+n<+t)throw new Error("Invalid range value, end must be greater than or equal to start");return new T(t,n)}static fromString(t,n){let r=a(t),i=a(n);if(typeof r!="number"||typeof i!="number")throw new Error("Invalid start or end IPv4 address");if(i<r)throw new Error("Invalid range value, end must be greater than or equal to start");return new T(r,i)}ip2long(){return[g(this,h),g(this,I)]}long2ip(){return[d(g(this,h)),d(g(this,I))]}ipCount(){return g(this,I)-g(this,h)+1}contains(t){let n=a(t);return typeof n!="number"?!1:n>=g(this,h)&&n<=g(this,I)}};h=new WeakMap,I=new WeakMap;var w=se;function ae(e){return typeof e!="string"?!1:typeof A(e)=="object"}function fe(e,t){return typeof e=="number"&&(e<0||e>4294967295)||typeof t=="number"&&(t<0||t>4294967295)||(typeof e=="string"&&(e=a(e)),typeof t=="string"&&(t=a(t)),typeof e!="number"||typeof t!="number")?!1:e===t}function V(e,t){let n=A(e);if(typeof n!="object"||!c(t))return!1;let{cidrMask:r,firstHost:i,lastHost:o,networkAddress:f,broadcastAddress:u}=n;return r>=31?w.fromString(i,o).contains(t):w.fromString(f,u).contains(t)}function c(e,t={strict:!1}){return t.strict?/^(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|[1-9])(\.(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)){3}$/.test(e):/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/.test(e)}function le(e){if(!c(e))return!1;let t=[{start:"10.0.0.0",end:"10.255.255.255"},{start:"127.0.0.0",end:"127.255.255.255"},{start:"172.16.0.0",end:"172.31.255.255"},{start:"169.254.0.0",end:"169.254.255.255"},{start:"192.168.0.0",end:"192.168.255.255"}];for(let n of t)if(w.fromString(n.start,n.end).contains(e))return!0;return!1}function A(e){if(typeof e!="string")return!1;let[t,n]=e.split("/");if(t===void 0||n===void 0||n===""||!c(t)||!v(+n))return!1;let r=32-+n,i=a(t),o=Number(0b1n<<BigInt(r)),f=+n?i>>r<<r>>>0:0,u=(f|o-1)>>>0;return{ipCount:o,cidrMask:+n,usableCount:+n<31?o-2:o,subnetMask:X(+n),networkAddress:+n<31?d(f):"",broadcastAddress:+n<31?d(u):"",firstHost:d(f+(+n<31?1:0)),lastHost:d(u-(+n<31?1:0))}}function ue(e){if(!Array.isArray(e)||e.length===0)return!1;let t=[];for(let n of e){let r=A(n);typeof r=="object"&&t.push({cidr:n,networkAddress:r.networkAddress||r.firstHost})}for(let n=0;n<t.length;n++)for(let r=n+1;r<t.length;r++){let i=V(t[r].cidr,t[n].networkAddress),o=V(t[n].cidr,t[r].networkAddress);if(i||o)return!0}return!1}function pe(e,t){if(!c(e)||!v(t))return!1;let n=L(t);return A(`${e}/${n}`)}function v(e){if(typeof e=="number"&&!isNaN(e))return!(e<0||e>32);if(typeof e=="string"){let t=a(e);return typeof t!="number"?!1:/^1*0*$/.test(t.toString(2).padStart(32,"0"))}else return!1}function de(e,t,n){if(!c(e)||!c(t)||!v(n))return!1;let r=a(e),i=a(t);typeof n=="number"&&(n=X(n));let o=a(n);return(r&o)===(i&o)}function ce(e){if(!c(e))return!1;let t=a(e);return{decimal:t,hex:`0x${t.toString(16).padStart(8,"0")}`,binary:t.toString(2).padStart(32,"0")}}var p={};E(p,{compressedForm:()=>R,contains:()=>H,expandedForm:()=>C,ip2long:()=>y,isCIDR:()=>ge,isConflict:()=>me,isEqual:()=>ye,isValidIP:()=>b,long2ip:()=>x,parseCIDR:()=>k});function y(e){if(!b(e))return!1;let t=[];e=C(e);let n=e.split(":");for(let r=0;r<n.length;r++){let i=parseInt(n[r],16);t.push(i.toString(2).padStart(16,"0"))}return BigInt(`0b${t.join("")}`)}function R(e){if(!b(e))return!1;if(y(e)===0n)return"::";e=C(e);let t=e.split(":").map(r=>{let i=parseInt(r,16);return i?i.toString(16):"X"}).join(":"),n=[/(X:X:X:X:X:X:X)/,/(X:X:X:X:X:X)/,/(X:X:X:X:X)/,/(X:X:X:X)/,/(X:X:X)/,/(X:X)/];for(let r=0;r<n.length;r++)if(t.match(n[r]))return t.replace(n[r],":").replace(":::","::").replaceAll("X","0");return t.replaceAll("X","0")}function x(e){if(typeof e!="bigint")return!1;if(e>=0n&&e<=340282366920938463463374607431768211455n){let t=[],n=e.toString(16).padStart(32,"0");for(let r=0;r<8;r++)t.push(n.slice(r*4,(r+1)*4));return R(t.join(":"))}else return!1}function H(e,t){let n=k(e);if(typeof n!="object"||!b(t))return!1;let{lastHost:r,firstHost:i}=n,o=y(t),f=y(r),u=y(i);return o>=u&&o<=f}function ge(e){return typeof e!="string"?!1:typeof k(e)=="object"}function ye(e,t){return typeof e=="bigint"&&(e<0n||e>340282366920938463463374607431768211455n)||typeof t=="bigint"&&(t<0||t>340282366920938463463374607431768211455n)||(typeof e=="string"&&(e=y(e)),typeof t=="string"&&(t=y(t)),typeof e!="bigint"||typeof t!="bigint")?!1:e===t}function b(e){return/^[\s]*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}))|:)))(%.+)?[\s]*$/.test(e)}function me(e){if(!Array.isArray(e)||e.length===0)return!1;let t=[];for(let n of e){let r=k(n);typeof r=="object"&&t.push({cidr:n,firstHost:r.firstHost})}for(let n=0;n<t.length;n++)for(let r=n+1;r<t.length;r++){let i=H(t[r].cidr,t[n].firstHost),o=H(t[n].cidr,t[r].firstHost);if(i||o)return!0}return!1}function k(e){if(typeof e!="string")return!1;let[t,n]=e.split("/");if(t===void 0||n===void 0||n==="")return!1;let r=+n;if(!b(t)||isNaN(r)||r<0||r>128)return!1;let i=BigInt(128-r),o=y(t),f=BigInt(0b1n<<i),u=o>>i<<i,P=x(u),O=x(u|f-1n);return{ipCount:f,firstHost:P,lastHost:O,prefixLength:r}}function C(e){if(!b(e))return!1;if(e==="::")return"0000:".repeat(8).slice(0,-1);let t=e.split(":");for(let r=0;r<t.length;r++)t[r]===""&&t[r+1]===""&&t.splice(r,1);let n=t[t.length-1];if(l.isValidIP(n)){let r=l.toBinHex(n).hex.slice(2);t.pop()&&t.push(r.slice(0,4),r.slice(4))}return t.map(r=>r?r.padStart(4,"0"):"0000:".repeat(9-t.length).slice(0,-1)).join(":")}function he(e){if(!c(e))return!1;let t=a(e),n=d(t);return{mapped:`::ffff:${n}`,comperssed:R(`::ffff:${n}`),expanded:C(`::ffff:${n}`)}}function X(e){if(typeof e!="number"||isNaN(e)||!v(e))return!1;let t=4294967295<<32-e;return e?d(t>>>0):"0.0.0.0"}function L(e){if(typeof e!="string"||!v(e))return!1;let t=a(e);return t===0?0:t.toString(2).replaceAll("0","").length}function Ie(e){if(!v(e))return!1;typeof e=="number"&&(e=X(e));let t=~a(e)>>>0;return d(t)}var $=require("react"),s=require("@raycast/api");var S=require("@raycast/api"),D=require("react/jsx-runtime");var q=[{id:"IPv4",name:"IPv4"},{id:"IPv6",name:"IPv6"}];function W(e){let{drinkTypes:t,onDrinkTypeChange:n}=e;return(0,D.jsx)(S.List.Dropdown,{storeValue:!0,tooltip:"Select IP Version",onChange:r=>n(r),children:(0,D.jsx)(S.List.Dropdown.Section,{children:t.map(r=>(0,D.jsx)(S.List.Dropdown.Item,{title:r.name,value:r.id},r.id))})})}var m=require("react/jsx-runtime");function z(e){let{keywork:t}=e.arguments,[n,r]=(0,$.useState)("IPv4"),[i,o]=(0,$.useState)(t||""),f=i.trim()==="",u=f?!1:n==="IPv4"?l.isValidIP(i):p.isValidIP(i),P=u?(n==="IPv4"?l.ip2long(i):p.ip2long(i)).toString():"";return(0,m.jsx)(s.List,{throttle:!0,searchText:i,onSearchTextChange:o,searchBarPlaceholder:"Input IP address that needs to be converted\uFF01",searchBarAccessory:(0,m.jsx)(W,{drinkTypes:q,onDrinkTypeChange:r}),children:f?(0,m.jsx)(s.List.EmptyView,{icon:{source:s.Icon.Warning,tintColor:s.Color.Yellow},title:"Please enter the IP address that needs to be converted\uFF01"}):u?(0,m.jsx)(s.List.Item,{icon:s.Icon.Clipboard,title:P,subtitle:i,actions:(0,m.jsx)(s.ActionPanel,{children:(0,m.jsx)(s.Action.CopyToClipboard,{content:P})})}):(0,m.jsx)(s.List.EmptyView,{icon:{source:s.Icon.XMarkCircle,tintColor:s.Color.Red},title:"Please enter a valid IP address\uFF01"})})}
